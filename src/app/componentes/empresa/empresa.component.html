<h3>Empresa</h3>
<button class="btn btn-outline-danger puntero"
        [routerLink]="['/empresas']"
>
  <i class="fa fa-arrow-left" aria-hidden="true"></i> Regresar
</button>
<button class="btn btn-outline-success puntero"
        (click)="agregarNuevo(forma)"
>Nueva Empresa <i class="fa fa-plus" aria-hidden="true"></i>
</button>
<hr>

<div class="row animated fadeIn fast">
  <div class="col-md-12">

    <form (ngSubmit)="guardar(forma)" #forma="ngForm" novalidate="">

      <div class="form-group row"
           [ngClass]="{ 'has-danger':(nombre.errors?.required  || nombre.errors?.minlength) && nombre.touched }">
        <label class="col-4 col-form-label text-right">Nombre de la Empresa</label>
        <div class="col-6">
          <input type="text"
                 [(ngModel)]="empresa.nombre"
                 name="nombre"
                 class="form-control"
                 required
                 minlength="5"
                 placeholder="Nombre del la Empresa"
                 #nombre="ngModel"
          >
          <div *ngIf="(nombre.errors?.required )&& nombre.touched"
               class="form-control-feedback">
            El campo es requerido
          </div>
          <div *ngIf="nombre.errors?.minlength"
               class="form-control-feedback">
            Superior a {{nombre.errors.minlength.requiredLength}} caracteres
          </div>
        </div>
      </div>

      <div class="form-group row"
           [ngClass]="{ 'has-danger':(nit.errors?.required  || nit.errors?.minlength) && nit.touched }">
        <label class="col-4 col-form-label text-right">Nit de la Empresa</label>
        <div class="col-6">
          <input type="number"
                 [(ngModel)]="empresa.nit"
                 name="nit"
                 class="form-control"
                 required
                 minlength="5"
                 placeholder="Nit del la Empresa"
                 #nit="ngModel"
          >
          <div *ngIf="(nit.errors?.required) && nit.touched"
               class="form-control-feedback">
            El campo es requerido
          </div>
          <div *ngIf="nit.errors?.minlength"
               class="form-control-feedback">
            Superior a {{nit.errors.minlength.requiredLength}} caracteres
          </div>
        </div>
      </div>

      <div class="form-group row">
        <label class="col-4 col-form-label text-right">Estado de la Empresa</label>
        <div class="col-6">

          <md-checkbox class="example-margin puntero"
                       [(ngModel)]="empresa.estado"
                       #estado="ngModel"
                       name="estado"
          >
            {{empresa.estado ? 'Activa': 'Inactiva'}}
          </md-checkbox>

        </div>
      </div>

      <div class="form-group row">
        <label class="col-4 col-form-label text-right">Fecha de Creaci√≥n</label>
        <div class="col-6">
          <label class="col-form-label text-left text-muted">{{empresa.fechaCreacion | date:'dd-MMMM-yyyy'}}</label>
        </div>
      </div>

      <div class="form-group row">
        <label class="col-4 col-form-label text-right"></label>
        <div class="col-6">
          <button class="btn btn-outline-success puntero"
                  type="submit"
                  [disabled]="!forma.valid"
          >
            Guardar Cambios <i class="fa fa-floppy-o" aria-hidden="true"></i>
          </button>
        </div>
      </div>

    </form>
  </div>
</div>

<p-growl [value]="msgs"></p-growl>
